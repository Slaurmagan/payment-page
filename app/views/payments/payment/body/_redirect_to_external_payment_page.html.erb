<%= turbo_frame_tag 'payment_body', data: { with_animation: local_assigns[:with_animation] } do %>
  <div
    class="
      flex flex-col items-center justify-center h-full animated
      <%= local_assigns[:with_animation] ? "out-of-screen" : "" %>
    "
    data-controller="auto-redirect auto-refresh"
    data-auto-redirect-redirect-in-value="5"
    data-auto-redirect-redirect-to-value="<%= payment[:payment_link] %>"
    data-auto-refresh-frequency-value="15"
    data-auto-refresh-path-value="cached_payment"
    data-auto-refresh-hash-value="<%= payment[:hash] %>"
  >
    <%= image_tag "loading.gif" %>

    <p class="text-center">
      Ожидайте перенаправления на <%= link_to 'страницу', payment[:payment_link], class: "text-underline text-[#{theme.body_primary_color}]" %> оплаты
    </p>
  </div>
<% end %>
